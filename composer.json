{
    "name": "apimatic/haitipayacceptorapi",
    "type": "library",
    "description": "# HaitiPay API description  **The HaitiPay platform** is designed to support several types of transactions and payment applications. HaitiPay allows any phone to be used as for electronic transactions, such as bill payment, money transfers to others, point of sale purchases, etc. The HaitiPay platform offers the following features to users: purchase goods and services at their favorite local stores. Unbanked merchants will be able to accept payments and formalize their business transactions.    **HaitiPay electronic wallet:** Anyone with a mobile phone can easily and securely: store, send and spend money using the HaitiPay electronic wallet. The funds are placed in the wallet in different ways, by recharging in cash of the counter at agent locations, by wallet to wallet transfers, by disbursement of wages or by linking it to a bank account. The HaitiPay wallet can be used to pay bills, shop in stores on the web, or transfer money to other users.  > ðŸ’¡ Follow instructions below to request access to this workspace and test the HaitiPay API.  ---  ## Request an invitation to Access the HaitiPay API     Please request an invitation to access the HaitiPay API  by sending an email to [admin@haitipay.com](mailto:admin@haitipay.com)  With your name and company information.    Within 24 hrs you will receive a confirmation that will allow you to access the   HaitiPay workspace.     ## We're Here to Help  It is important we understand the Business Models you want to implement. Get in touch and let us know how we can help.  Contact support at [devsupport@haitipay.com](mailto:devsupport@haitipay.com) to get help from our team.  #  Acceptor API Description  In the HaitiPay ecosystem, acceptors are defined as entities accepting electronic money. This can be either an agent receiving electronic money against cash in an Over The Counter (OTC) cash-in  transaction, or a merchant providing goods and services against electronic money from clients. This API exposes methods to search clients, accounts, to authorize and post various transactions such as: Cash-in, Cash-out, Payment, Paybill, or Reversal of transaction.  # Base URI  The API uses the following base URI: ``` https://sandbox.haitipay.com/api/acceptor/v1 ```   # Authentication  ## OAuth2 ### Pre-requisites To access the HaitiPay Acceptor API you must have a registered acceptor account on the HaitiPay platform. An API key for this acceptor must be created for you by HaitiPay Administration.  ### Obtaining an Access Token In order to obtain an Access Token, you must `POST`to the URL https://sandbox.haitipay.com/api/acceptor/v1/oauth2/ token using a `Content-type: application/json` header and a JSON body containing the following items:  |                |                         |                        | |----------------|-------------------------------|-----------------------------| |grant_type|string|MUST be `client_credentials`          | |client_id         |string            |the `API key identifier`            | |client_secret        |string|The `API key secret`|  **Request body example**  ```json {  \"grant_type\":\"client_credentials\",  \"client_id\":\"eza9eza21eaz951ea8f2ffs9fgdfsdd3\",  \"client_secret\":\"eb5d1477-0dab-4b36-bc3e-9da6d6cc25ba\" } ```  Calling the URL as described above will yield a response similar to this (actual token cut off with `[...]` for brevity):  ```json { \"token_type\": \"Bearer\", \"expires_in\":59940, \"access_token\":\"eyJ0eXAiOiJKV1Qi0MzI5Oi0MzI5ODDNiMzJj[...]\" } ```  ### Now that you have an Access Token The thus obtained access token must be provided in the HTTP request header `Authorization` for each **API call** prefixed by the word `Bearer` (with the trailing space):  `Authorization: Bearer your_api_token`  ### Access token lifetime The access token has the **same lifetime as a user's session**, with the significant difference that it's lifetime is not extended upon each API action.  Therefore, the access token will expire after it's predefined lifetime has expired, resulting in a HTTP 401 Unauthorized response with the message Access token is invalid.  It is the API consumer's responsibility to detect such response, to obtain a new access token using the process described above, and optionally to issue the failed request anew.  |  **Security Scheme Type** |  **OAuth2**  |    |---------------------------|-------------------------------------| |  |**Token URL: /oauth2/token** |                                      |  |**Refresh URL: /oauth2/refresh** | |  | **Scopes:**  |                                                       |  | `clients_view` - View clients information |                                                     |  | `accounts_view` -  View acceptor accounts information   |                                                                                      |  | `client_accounts_view` - View client accounts information |                                             |  | `cashin` - Make cashin transaction |                                  |  | `cashout`-  Make cashout transaction |                                                |  | `bill_payment`-  Make cashout transaction|      |  | `authentication_pincode_acceptor`-  Authenticate acceptor with it's pincode| |  | `authentication_pincode_client` -  Authenticate client with it's pincode|                                                                                      |  | `authentication_pincode_client_ivr` - Authenticate client with it's pincode through IVR |                                             |  | `authentication_otp_client` - Authenticate client with a one time password|                                  |  | `authentication_nsdt`-  Authenticate client with NSDT |                       |  | `authentication_qr_code`- Authenticate client with QR Code|                     |  | `authentication_cancel -Cancel an ongoing transaction| |  | `authentication_nsdt`-  Authenticate client with NSDT |                        |  | `authentication_qr_code`- Authenticate client with QR Code|                     |  | `authentication_cancel` -Cancel an ongoing transaction| |  | `authentication_transaction_code` - Generate a transaction code|       # A MOBILE-CENTRIC BANKING PLATFORM  ### THE MOBILE > HaitiPay uses an omni-channel platform, built to be fundamentally inclusive, while remaining `independent from telecom` operator channels.  End-users can activate their wallets/accounts with any phone, even with a feature phone that only handles audio, IVR, SMS and USSD. They can also use the HaitiPay mobile wallet app (IOS or Android), as well as a responsive web portal.  HaitiPay agents and merchants can use a wide range of devices from an entry level Android smartphone to Mobiwire and Ingenico terminals.  HaitiPay uses enablers to integrate and manage channels supplied by third parties.   ### COMPANION CARD > A `companion card` can be issued for the HaitiPay end-user, linked to his wallet/account. This allows the end-user to pay in MasterCard and VISA networks.    #### **DIGITAL FINANCIAL SERVICES**  **The HaitiPay platform** is designed to support several types of transactions and payment applications. HaitiPay allows any phone to be used as for electronic transactions, such as bill payment, money transfers to others, point of sale purchases. Here is a list of Digital Financial Services that can be delivered with the HaitiPay Platform:   | |    | | -------------------------- | ------------------------------------ | |  ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168453742_tel_wallet.png) universalMobilephone               | **WALLET/ACCOUNT** : The end-userâ€™s mobile phone number is his wallet/account number.  The wallet can be used with a feature phone, using IVR or USSD or with the smartphone app Haiwhich can be downloaded onto any Android or IOS device. The end-user then has easy access to his balance and transaction history. The wallet/account is mutli-currency. To create a wallet/account, clients are onboarded by an agent, with KYC tools.| | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168474365_Cash-in_Cash_out.png)   | **OTC CASH-IN & CASH-OUT** : The end-user can visit an agent, representing the bank in the field, to securely perform a cash-in or a cash-out, crediting or debiting his wallet/account. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168483633_Bill_Voucher.png)       | **BILL PAYMENT/VOUCHERS** : The end-user can pay his bills securely and conveniently on his feature phone or mobile wallet app, or by paying with cash at a point of service. The HaitiPay platform connects to the partnerâ€™s billing back-office to verify reference numbers and authorize transactions. For this service it is possible to use IVR, app or USSD channels , as well as the responsive web portal. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168493639_airtime_topUp.png)      | **AIR TIME TOP-UP** : The end-user can top-up his airtime by using his feature phone, with IVR or USSD, or with his smartphone, through the web portal or with the HaitiPay mobile wallet. The end-user can also visit an agent to perform this service. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168502176_P2P_TP.png)             |**P2P TRANSFERS** : End-users can send money in many different ways, be it over the counter with an agent or directly from their feature phone or mobile wallet app. It is also possible to use IVR, USSD, app and web channels for transfers without the assistance of an agent. When receiving cash from another individual, the recipient can choose to leave it on his wallet/account.  | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168511220_Savings_TP.png)         | **SAVINGS** : Real-time transactions are transforming the end-userâ€™s behavior around saving. He can credit a savings account as soon as he receives money (salary, pension, transfer). This flexibility, with the balances of his different accounts, gives him the opportunity to organize and manage hhiser savings in a completely new way. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168533518_Loans_TP.png)           | **LOANS** : Real-time technology and wide scale mobile phone deployment will transform the loan distribution process. With new forms of scoring and risk management, end-users will be able to obtain loans directly on their phones in a fraction of the time classically required. HaitiPay will power microcredit and meso-finance loans. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168541363_Salary+BulkP2P_TP.png)  | **SALARIES & PENSIONS (BULK2P)** : End-users can receive their salaries directly on their wallet/account. Companies can partner with HaitiPay to send payroll to their employees. SMS, USSD and the mobile wallet app are used for this service.| | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168557005_Merchant_TP.png)        | **MERCHANT PAYMENTS** : End-users can securely and conveniently pay in stores with their phones using their wallets/accounts. Any cell phone can be used, no matter the telecom operator or type of phone. Merchants can partner with the HaitiPay HaitiPay to accept HaitiPay payments in their stores, offering their customers a convenient contactless payment experience that is extremely secure and user-friendly. The merchant downloads the Merchant app from Google Play or from the App Store, onto a POS terminal or Android device. NSDTâ„¢is used for securing transactions at the point of sale.   | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168567191_ePAYMENT_TP.png)        | **E-PAYMENTS** : End-users can pay online with their wallets/accounts. At checkout on the e-commerce website, the end- user is redirected to the HaitiPay online payment system. E-commerce companies can partner with HaitiPay to offer a secure and simple payment experience to their customers. HaitiPay includes a Woocommerce payment module that allows any e-commerce website powered by Woocommerce to accept payments online by incorporating the HaitiPay payment solution into its website. This service is only available in countries with  HaitiPay HaitiPay.   | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168575287_Subsidies_TP.png)       | **SUBSIDIES** : The HaitiPay  can partner with non-governmental organizations to distribute subsidies digitally. The recipients of the subsidies are notified and can then visit a network of dedicated merchants in order to buy the subsidized goods. The administrator of the service decides what percentage, if any, the beneficiary of the service must personally pay. During the transaction in the store, the merchant is paid in real-time for the full cost of the product, directly on his HaitiPay account. HaitiPay  partners with non-governmental organizations and merchants in order to set up the service. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168584543_Cash2Good_TP.png)       | **CASH2GOOD** : HaitiPayâ€™s Cash2Good enables P2P transfers that can be used in a dedicated network of stores. An end-user receiving Cash2Good will be able to spend the money at a specific network of merchants, chosen by the sender. | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168592814_Cash_Collection_TP.png) | **CASH COLLECTION** : The network of agents set up by HaitiPay can be used for cash collection by third parties. For example, a loan recipient of a local microfinance institution can visit a point of service to perform weekly loan repayments. This is done over the counter.   | | ![](https://paper-attachments.dropbox.com/s_49ED6FB24CD8D267294A2C87BEAA57320D554EDC44C2CF475C7395FBC14CA423_1596168600303_ATM_WithDrawal_TP.png)  | **ATM WITHDRAWAL** : End-users can withdraw cash from their wallets/accounts at an ATM. HaitiPayâ€™s APIs enable simple integration with existing ATMs. For smartphones with the HaitiPay app or from the dedicated web portal, a one-time passcode is generated, that is then immediately used to withdraw cash from the ATM. With a feature phone, USSD is used to generate the passcode. It is also possible to install a solution that works directly with NSDTâ„¢ on the ATMs.   |  # ECOSYSTEM DEFINITIONS  #### **API DESCRIPTION**  This  API allows third party platforms to request HaitiPay to execute transactions on  behalf of a `Merchant` or an `Agent`.  A `Client` user  in HaitiPay has one Wallet account named  `reserve account` and as many `dedicated account`  as he owns dedicated money at  merchants or group of merchants.  This API offers the following features: > - Credit or Debit a client's `reserve` or `dedicated` accounts.  > - On Behalf of an Agent execute `Cash-In` and `Cash-Out`. > - On Behalf of a Merchant `Credit` or `Debit` dedicated merchant or merchant group  > account). > - `Transfer Money` from a Sender to a ecipient. This transfer can be from `reserve account` to `reserve account` or from `dedicated account` to `dedicated account` or from `reserve account` to `dedicated account`. > - `Change PIN` the client's 4 digits secret code.",
    "keywords": ["HaitiPay Acceptor API","API","SDK"],
    "homepage": "https://web.haitipay.com/api.hmtl",
    "license": "MIT",
    "authors": [
        {
            "name": "Developer Support",
            "email": "devsupport@haitipay.com",
            "homepage": "https://web.haitipay.com/api.hmtl"
        }
    ],
    "require": {
        "php": ">=5.4.0",
        "ext-curl": "*",
        "ext-json": "*",
        "ext-mbstring": "*",
        "apimatic/unirest-php": "^2.0.0",
        "apimatic/jsonmapper": "^1.3.1"
    },
    "require-dev": {
        "squizlabs/php_codesniffer": "^2.7",
        "phpunit/phpunit": "4.8.*"
    },
    "autoload": {
        "psr-4": {
            "HaitiPayAcceptorAPILib\\": "src/"
        }
    }
}